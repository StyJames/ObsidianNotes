# 线程池的参数与运行流程
1. 线程池的几个参数解析
	1. 核心线程数 corePoolSize，正常运行时的线程池线程数量
	2. 最大线程数 maximumPoolSize，在阻塞队列满的时候会按照最大线程数来初始化一批线程来满足运行需要
	3. keepAliveTime，闲时存活时间，当线程数超过核心线程数时，此时空闲线程的最大等待时间，超过时间则空闲线程会被回收销毁
	4. timeUnit，闲时存活时间的单位
	5. 阻塞队列 blockingQueue，核心线程数满的时候会将任务放到阻塞队列中等待。一般选择有界队列
	6. 线程创建工厂-threadFactory，用来创建线程的工厂方法
	7. 拒绝策略-RejectedExecutionHandler，当阻塞队列已满并且已达到最大线程数的时候，采用何种方法拒绝新增的任务
		1. AbortPolicy 拒绝并抛出RejectedExecutionException异常
		2. CallerRunsPolicy 直接使用调用线程池的线程来运行被拒绝任务
		3. DiscardOldestPolicy 丢弃队列中最老的未处理任务，随后将拒绝任务入队
		4. DiscardPolicy 静默丢弃被拒绝的任务
2. 线程池的一般运行流程：![](a8826e89fa76402c9ee896bbcc6719d5.png)
	1. 线程池创建并初始化之后，使用懒加载模式，即开始进行任务处理才会通过线程创建工厂创建线程
	2. 在创建线程没有超过核心线程数的时候，还是正常进行线程创建，并处理任务；
	3. 在已创建的线程数等于核心线程数的时候，会将继续入池的任务放入阻塞队列中等待；
	4. 在阻塞队列满的时候，会创建新的线程，接受任务处理，然而如果继续添加任务，直到最大线程数也满，此时会通过选择的拒绝策略来进行任务丢弃。
	5. 当超出核心线程数的线程，它的空闲时间超过设置的存活时间，该线程会被销毁回收，直到线程池中存活线程数小于等于核心线程数。